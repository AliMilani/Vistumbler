package com.eiri.wifidb_uploader;

import java.util.List;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.wifi.ScanResult;
import android.net.wifi.WifiManager;
import android.util.Log;
import android.widget.Toast;

public class WiFiScanReceiver extends BroadcastReceiver {
  private static final String TAG = "WiFiScanReceiver";
  WiFiDemo wifiDemo;
  List<ScanResult> wifiList;
  StringBuilder sb = new StringBuilder();

  public WiFiScanReceiver(WiFiDemo wifiDemo) {
    super();
    this.wifiDemo = wifiDemo;
  }

  @Override
  public void onReceive(Context c, Intent intent) {
      sb = new StringBuilder();
      wifiList = wifiDemo.wifi.getScanResults();
      for(int i = 0; i < wifiList.size(); i++){
          sb.append(new Integer(i+1).toString() + ".");
          sb.append((wifiList.get(i)).toString());
          sb.append("\\n");
      }	  
	  

    Toast.makeText(wifiDemo, sb, Toast.LENGTH_LONG).show();

    Log.d(TAG, "onReceive() message: " + sb);
  }

}